<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <t    <title>Scatter Chart - Spotimix</title>
    
    <!-- Font Awesome (icônes sidebar) -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />
    
    <!-- Import Map pour résoudre les modules -->
    <script type="importmap">
    {
        "imports": {
            "d3": "https://cdn.jsdelivr.net/npm/d3@7/+esm"
        }
    }
    </script>
    
    <!-- CSS principal du dashboard -->
    <link rel="stylesheet" href="style.css" />
    
    <!-- CSS spécifique au scatter chart -->
    <style>
        /* Contenu avec même couleur de fond que le dashboard */
        .scatter-content {
            margin-left: 68px; /* Espace pour la sidebar */
            padding: 24px;
            background-color: var(--bg); /* Même fond que le dashboard */
            min-height: 100vh;
        }
        
        /* Container du scatter avec style panel */
        .scatter-container {
            background: var(--bg-light); /* Même fond que les panels */
            padding: 20px;
            border-radius: var(--radius-md);
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .scatter-title {
            color: var(--text);
            margin-bottom: 10px;
            font-size: 1.8em;
            font-weight: 600;
        }
        
        .scatter-subtitle {
            color: #8e98c9;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        #scatter-viz {
            width: 100%;
            min-height: 550px;
            background: var(--bg-dark);
            border-radius: 8px;
            padding: 10px;
        }
        
        .scatter-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            max-width: 280px;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text);
            font-size: 1.2em;
        }
        
        .error {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        /* Style des cercles du scatter */
        .scatter-dot {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .scatter-dot:hover {
            stroke-width: 2px !important;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <a class="side-icon" href="heatmap.html" title="Graph 1">
            <i class="fa-solid fa-border-all"></i>
        </a>
        <a class="side-icon" href="bubbles.html" title="Graph 2">
            <i class="fa-solid fa-chart-pie"></i>
        </a>
        <a class="side-icon" href="timeline.html" title="Graph 3">
            <i class="fa-solid fa-sliders"></i>
        </a>
        <a class="side-icon home" href="scatter.html" title="Graph 4">
            <i class="fa-solid fa-chart-bar"></i>
        </a>
    </aside>

    <!-- Topbar -->
    <header class="topbar">
        <h1 class="brand">SPOTIMIX</h1>
        <div class="toolbar">
            <label class="select">
                <select id="year-select">
                    <option value="2023" selected>Année 2023</option>
                    <option value="2022">Année 2022</option>
                    <option value="2021">Année 2021</option>
                    <option value="2020">Année 2020</option>
                    <option value="2019">Année 2019</option>
                </select>
            </label>
            <label class="select">
                <select id="main-genre-select">
                    <option>Choisir un genre</option>
                    <option>Pop</option>
                    <option>Rock</option>
                    <option>Rap</option>
                    <option>Electro</option>
                </select>
            </label>
        </div>
    </header>

    <!-- Contenu principal du scatter chart -->
    <div class="scatter-content">
        <div class="scatter-container">
            <h2 class="scatter-title">Scatter Plot - Energy vs Danceability</h2>
            <p class="scatter-subtitle">Chargement des données...</p>
            <div id="scatter-viz">
            </div>
        </div>
    </div>

    <!-- Scatter Chart App: Utilise les classes TypeScript compilées -->
    <script type="module" src="scatter-app.js"></script>
</body>
</html>